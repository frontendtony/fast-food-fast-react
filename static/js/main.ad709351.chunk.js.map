{"version":3,"sources":["services/api.js","store/actions/errors.js","store/actionTypes.js","helpers/index.js","components/AuthLinks.js","components/NavLinks.js","containers/Header.js","components/Landing.js","containers/LoginForm.js","containers/SignupForm.js","components/SearchBar.js","store/actions/fetchMenu.js","store/actions/cart.js","containers/MenuList.js","components/Menu.js","components/CartList.js","components/CartFooter.js","containers/Cart.js","components/FoodCard.js","components/FoodListContainer.js","components/OrderCard.js","components/OrdersHeader.js","components/OrdersContainer.js","containers/Orders.js","store/actions/orders.js","containers/App.js","store/actions/auth.js","store/reducers/reducer_menu.js","store/reducers/reducer_cart.js","store/reducers/reducer_error.js","store/reducers/reducer_user.js","store/reducers/reducer_order.js","store/reducers/index.js","store/index.js","serviceWorker.js","index.js"],"names":["apiCall","axiosConfigObj","config","Object","objectSpread","baseURL","Promise","resolve","reject","axios","then","res","data","catch","err","response","request","message","error","addError","type","payload","removeError","history","createBrowserHistory","AuthLinks","props","isLoggedIn","currentUser","logout","closeMenu","react_default","a","createElement","className","onClick","e","preventDefault","Link","to","key","NavLinks","_props$currentUser","isadmin","user","links","text","url","push","map","link","Header","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","openMenu","bind","assertThisInitialized","toggleMenu","state","openMenuClass","menuCoverClass","setState","_this$props","id","aria-hidden","concat","components_NavLinks","components_AuthLinks","Component","Landing","name","split","LoginForm","email","password","handleChange","handleSubmit","defineProperty","target","value","_this2","onAuth","_this2$props","_this$props2","_this$state","listen","onSubmit","placeholder","required","autoComplete","onChange","withRouter","SignupForm","address","admin_secret","SearchBar","term","onInputChange","event","fetchMenu","_ref","arguments","length","undefined","_ref$search","search","_ref$limit","limit","_ref$offset","offset","method","params","dispatch","_ref2","result","emptyCart","MenuList","food","addToCart","_","menu","src","image","alt","addCommaToNum","cost","renderMenu","connect","foodObject","Menu","components_SearchBar","containers_MenuList","CartList","cart","removeFromCart","cartList","item","CartFooter","total","checkout","Cart","reduce","acc","curr","count","keys","components_CartList","components_CartFooter","foodIds","token","localStorage","headers","Authorization","FoodCard","_props$food","status","FoodListContainer","selectedOrder","foodList","order_status","components_FoodCard","modalClass","removeModal","renderFoodCard","Order","setSelectedOrder","order","amount","created_on","createdDate","Date","toLocaleDateString","OrdersHeader","filter","onSelectChange","OrdersContainer","renderOrders","orders","OrderCard","components_OrdersHeader","Orders","fetchUserOrders","components_OrdersContainer","components_FoodListContainer","getItem","jwtDecode","authUser","userData","setCurrentUser","number","toString","replace","BrowserRouter","containers_Header","Switch","Route","exact","path","render","containers_LoginForm","containers_SignupForm","components_Menu","containers_Cart","containers_Orders","components_Landing","action","mapKeys","defaultCart","JSON","parse","saveCartToStorage","setItem","stringify","newState","omit","errorHandler","defaultUser","rootReducer","combineReducers","MenuReducer","CartReducer","removeItem","OrderReducer","configureStore","createStore","compose","applyMiddleware","thunk","window","devToolsExtension","f","Boolean","location","hostname","match","store","ReactDOM","es","containers_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad709351.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const setTokenHeader = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n}\r\n\r\nexport const apiCall = (axiosConfigObj) => {\r\n  const config = {\r\n    ...axiosConfigObj,\r\n    baseURL: 'https://fast-food-fast-adc.herokuapp.com/api/v1'\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    return axios(config)\r\n      .then((res) => { \r\n        return resolve(res.data);\r\n      })\r\n      .catch((err) => {\r\n        const { response, request, message } = err;\r\n        const error = response ? response.data.message\r\n          : request ? 'Network error, please try again later' : message;\r\n        return reject(error);\r\n      })\r\n  })\r\n}\r\n","import { ADD_ERROR, REMOVE_ERROR } from '../actionTypes';\r\n\r\nexport const addError = (error) => {\r\n  return {\r\n    type: ADD_ERROR,\r\n    payload: error\r\n  }\r\n}\r\n\r\nexport const removeError = () => {\r\n  return {\r\n    type: REMOVE_ERROR,\r\n    payload: ''\r\n  }\r\n}\r\n","export const FETCH_MENU = 'fetch_menu';\r\nexport const ADD_TO_CART = 'add_to_cart';\r\nexport const REMOVE_FROM_CART = 'remove_from_cart';\r\nexport const EMPTY_CART = 'empty_cart';\r\nexport const SET_CURENT_USER = 'set_current_user';\r\nexport const REMOVE_USER = 'remove_user';\r\nexport const FETCH_USER_ORDERS = 'fetch_user_orders';\r\nexport const ADD_ERROR = 'add_error';\r\nexport const REMOVE_ERROR = 'remove_error';\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AuthLinks = (props) => {\r\n  const { currentUser: { isLoggedIn }, logout, closeMenu } = props;\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    closeMenu();\r\n    logout();\r\n  }\r\n\r\n  return (\r\n    <ul className='nav-links auth-links'>\r\n      {\r\n        isLoggedIn\r\n        ? <li onClick={handleLogout}>\r\n            <Link to='/'>Logout</Link>\r\n          </li>\r\n        : [\r\n            <li key='login' onClick={closeMenu}>\r\n              <Link to='/login'>Login</Link>\r\n            </li>,\r\n            <li key='signup' onClick={closeMenu}>\r\n              <Link to='/signup'>Sign Up</Link>\r\n            </li>\r\n          ]\r\n      }\r\n    </ul>\r\n  );\r\n  \r\n}\r\n\r\nexport default AuthLinks;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NavLinks = (props) => {\r\n  const { currentUser: { isLoggedIn, user: { isadmin } }, closeMenu } = props;\r\n\r\n  let links = [\r\n    { text: 'Browse Menu', url: '/menu', }\r\n  ]\r\n\r\n  if (isLoggedIn ) {\r\n    if (isadmin) {\r\n      links = [ { text: 'Admin', url: '/admin', }, ]\r\n    } else {\r\n      links.push(\r\n        { text: 'My Orders', url: '/orders', },\r\n        { text: 'Cart', url: '/cart', }\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ul className='nav-links'>\r\n      { \r\n        links.map((link) => {\r\n          return (\r\n            <li key={link.url} onClick={closeMenu}>\r\n              <Link to={link.url}>{link.text}</Link>\r\n            </li>\r\n          );\r\n        }) \r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default NavLinks;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthLinks from '../components/AuthLinks';\r\nimport NavLinks from '../components/NavLinks';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.openMenu = this.openMenu.bind(this);\r\n    this.closeMenu = this.closeMenu.bind(this);\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n\r\n    this.state = { \r\n      openMenuClass: '',\r\n      menuCoverClass: ''\r\n    };\r\n  }\r\n\r\n  openMenu() {\r\n    this.setState({ \r\n      openMenuClass: 'animate',\r\n      menuCoverClass: 'dim'\r\n    });\r\n  }\r\n  \r\n  closeMenu() {\r\n    this.setState({ \r\n      openMenuClass: '',\r\n      menuCoverClass: ''\r\n    });\r\n  }\r\n  \r\n  toggleMenu() {\r\n    if (!this.state.openMenuClass) {\r\n      return this.openMenu();\r\n    }\r\n    this.closeMenu();\r\n  }\r\n\r\n  render() {\r\n    const { currentUser, logout } = this.props;\r\n    return(\r\n      <nav id=\"navbar\">\r\n        <i className=\"fa fa-bars fa-2x nav-toggle\"\r\n          aria-hidden='true' id='nav-toggle-open'\r\n          onClick={this.toggleMenu}>\r\n        </i>\r\n        <div id=\"nav-container\">\r\n          <h3 className=\"nav-title\" onClick={this.closeMenu}>\r\n            <Link to=\"/\">Fast Food Fastâ€‹</Link>\r\n            <i className=\"fas fa-shipping-fast\" id=\"logo\"></i>\r\n          </h3>\r\n          <div className={`nav-links-wrapper ${this.state.openMenuClass}`}>\r\n            <NavLinks closeMenu={this.closeMenu} currentUser={currentUser} />\r\n            <AuthLinks \r\n              closeMenu={this.closeMenu}\r\n              currentUser={currentUser}\r\n              logout={logout}\r\n            />\r\n            <div className={`menu-page-cover ${this.state.menuCoverClass}`} \r\n              onClick={this.toggleMenu}>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Landing = (props) => {\r\n  const { currentUser: { user: { name }, isLoggedIn } } = props;\r\n  return (\r\n    <div className='main-section section landing'>\r\n    {\r\n      isLoggedIn\r\n      ? <h1 className=\"title\">\r\n          Welcome back { name.split(' ')[0] }!\r\n        </h1>\r\n      : <div>\r\n          <h1 className=\"title\">Order intercontinental dishes online!</h1>\r\n          <p className=\"subtitle\">One hour delivery to any location in Lagos</p>\r\n          <div className=\"horizontal button-group\">\r\n            <button className=\"large inverted transparent confirm button\">\r\n              <Link to=\"/login\">Login</Link>\r\n            </button>\r\n            <button className=\"large inverted transparent confirm button\">\r\n              <Link to=\"/signup\">Signup</Link>\r\n            </button>\r\n          </div>\r\n        </div>\r\n    }\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { currentUser : { isLoggedIn }, history } = this.props;\r\n    if (isLoggedIn) history.push('/');\r\n  }\r\n\r\n  handleChange(e) {\r\n    e.preventDefault();\r\n    this.props.removeError();\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.onAuth(this.state, 'login')\r\n      .then(() => {\r\n        const { currentUser : { user: { isadmin } }, history } = this.props;\r\n        if (isadmin) {\r\n          return history.push('/admin');\r\n        }\r\n        history.push('/');\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { error, history, removeError } = this.props;\r\n    const { email, password } = this.state;\r\n    history.listen(() => {\r\n      removeError();\r\n    })\r\n    return (\r\n      <div className=\"auth section\">\r\n        <form className='raised login form default-form' onSubmit={this.handleSubmit}>\r\n          <h2 className=\"form-title\">Login</h2>\r\n          <input value={email} className=\"input\" type=\"email\"\r\n            name=\"email\" placeholder=\"Email\" required autoComplete=\"off\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <input value={password} className=\"input\" type=\"password\"\r\n            name=\"password\" placeholder=\"Password\" required\r\n            onChange={this.handleChange}\r\n          />\r\n          <input type=\"submit\" value=\"Login\" />\r\n          {\r\n            error && <p className=\"form-error emphasis\">{error}</p>\r\n          }\r\n        </form>\r\n        <p>\r\n          <Link to=\"/signup\">Create a new account</Link>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default withRouter(LoginForm);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      address: '',\r\n      admin_secret: ''\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { currentUser : { isLoggedIn }, history } = this.props;\r\n    if (isLoggedIn) history.push('/');\r\n  }\r\n\r\n  handleChange(e) {\r\n    e.preventDefault();\r\n    this.props.removeError();\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.onAuth(this.state, 'signup')\r\n      .then(() => {\r\n        const { currentUser : { user: { isadmin } }, history } = this.props;\r\n        if (isadmin) {\r\n          return history.push('/admin');\r\n        }\r\n        history.push('/');\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { error, history, removeError } = this.props;\r\n    const { name, email, password, address, admin_secret } = this.state;\r\n    history.listen(() => {\r\n      removeError();\r\n    })\r\n    return (\r\n      <div className=\"auth section\">\r\n        <form className=\"raised signup form default-form\" onSubmit={this.handleSubmit}>\r\n          <h2 className=\"form-title\">Sign Up</h2>\r\n          <input value={name} className=\"input\" type=\"text\"\r\n            name=\"name\"  placeholder='Full name' required\r\n            onChange={this.handleChange}\r\n          />\r\n          <input value={email} className=\"input\" type=\"email\"\r\n            name=\"email\"  placeholder='Email' required\r\n            onChange={this.handleChange}\r\n          />\r\n          <input value={password} className=\"input\" type=\"password\"\r\n            name=\"password\"  placeholder='Password' required\r\n            onChange={this.handleChange}\r\n          />\r\n          <input value={address} className=\"input\" type=\"text\"\r\n            name=\"address\"  placeholder='Address' required\r\n            onChange={this.handleChange}\r\n          />\r\n          <input value={admin_secret} className=\"input\" \r\n            type=\"password\" name=\"admin_secret\" \r\n            placeholder='Enter secret key for admin signup'\r\n            onChange={this.handleChange}\r\n          />\r\n          <input type=\"submit\" value=\"Register\" className=\"raised\" />\r\n          {\r\n            error && <p className=\"form-error emphasis\">{error}</p>\r\n          }\r\n        </form>\r\n        <p>\r\n          <span className=\"emphasis\">Already have an account? </span>\r\n          <Link to=\"/login\">Login</Link>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SignupForm);\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = ({ term: '' });\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n  \r\n  onInputChange(event) {\r\n    return this.setState({\r\n      term: event.target.value\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <form className='search-form'>\r\n        <input\r\n          name=\"textInput\"\r\n          type=\"text\"\r\n          value={this.state.term}\r\n          placeholder=\"Search for food\"\r\n          onChange={this.onInputChange}\r\n        />\r\n        <i className='fas fa-search'></i>\r\n      </form>  \r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import { apiCall } from '../../services/api';\r\nimport { FETCH_MENU } from '../actionTypes';\r\nimport { removeError, addError } from './errors';\r\n\r\nconst fetchMenu = ({search = '', limit = 10, offset = 0} = {}) => {  \r\n  const config = {\r\n    method: 'get',\r\n    url: '/menu',\r\n    params: { search, limit, offset }\r\n  }\r\n\r\n  const request = apiCall(config);\r\n\r\n  return (dispatch) => {\r\n    request.then(({ result }) => {\r\n      dispatch({\r\n        type: FETCH_MENU,\r\n        payload: result,\r\n      })\r\n      dispatch(removeError());\r\n    })\r\n    .catch(() => {\r\n      dispatch(addError('Could not retrieve menu, please try again'));\r\n    })\r\n  };\r\n}\r\n\r\nexport default fetchMenu;\r\n","import { ADD_TO_CART, REMOVE_FROM_CART, EMPTY_CART } from '../actionTypes';\r\nimport { addError } from './errors';\r\nimport { apiCall } from '../../services/api';\r\nimport _ from 'lodash';\r\n\r\nexport const addToCart = (foodObject) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: ADD_TO_CART,\r\n      payload: foodObject\r\n    });\r\n  };\r\n}\r\n\r\nexport const removeFromCart = (id) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      payload: id\r\n    });\r\n  }\r\n}\r\n\r\nexport const emptyCart = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: EMPTY_CART\r\n    });\r\n  }\r\n}\r\n\r\nexport const checkout = (cart, address = '') => {\r\n  return (dispatch) => {\r\n    const foodIds = _.keys(cart);\r\n    const data = { foodIds, address };\r\n    const { token } = localStorage;\r\n    if (!token) return addError('You need to be logged in to place an order');\r\n    const config = {\r\n      url: `/orders`,\r\n      method: 'post',\r\n      headers: { 'Authorization': `Bearer ${token}` },\r\n      data\r\n    }\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      const request = apiCall(config);\r\n      request.then(() => {\r\n        dispatch(emptyCart());\r\n        resolve();\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addError(err));\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n// dispatch({\r\n//   type: CHECKOUT\r\n// });","import _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport fetchMenu from '../store/actions/fetchMenu';\r\nimport { addToCart } from '../store/actions/cart';\r\n\r\nclass MenuList extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchMenu({ limit: 10 });\r\n  }\r\n  \r\n  addToCart(food) {\r\n    this.props.addToCart(food);\r\n  }\r\n  \r\n  renderMenu() {\r\n    return _.map(this.props.menu, (food) => {\r\n      return (\r\n        <li key={food.id} className=\"raised vertical card\">\r\n          <div className=\"img-thumbnail\">\r\n            <img src={food.image} alt={food.name} />\r\n          </div>\r\n          <div className=\"vertical card-details\">\r\n            <h4 className=\"food-name\">{food.name}</h4>\r\n            <h6 className=\"amount\">Amount: {\"\\u20A6\"} \r\n              <span className=\"amount\">\r\n                {this.props.addCommaToNum(food.cost)}\r\n              </span>\r\n            </h6>\r\n            <div className=\"order-buttons\">\r\n              <button \r\n                className=\"big fluid confirm button\"\r\n                onClick={this.addToCart.bind(this, food)}>\r\n                Add to cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <ul className=\"horizontal list\">\r\n        {this.renderMenu()}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { menu: state.menu };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchMenu, addToCart })(MenuList);\r\n","import React, { Component } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport MenuList from '../containers/MenuList';\r\n\r\nclass Menu extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"section\">\r\n        <SearchBar />\r\n        <MenuList addCommaToNum={this.props.addCommaToNum} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nconst CartList = (props) => {\r\n\r\n  const { cart, addCommaToNum, removeFromCart } = props;\r\n  const cartList = _.map(cart, (item) => {\r\n    const { id, name, cost, image } = item;\r\n    return (\r\n      <li className=\"raised horizontal card\" key={id}>\r\n        <div className=\"img-thumbnail\">\r\n          <img src={image} alt={name} />\r\n        </div>\r\n        <div className=\"horizontal card-details\">\r\n          <h4 className=\"food-name\">{name}</h4>\r\n          <h6 className=\"amount\">\r\n            Amount: {\"\\u20A6\"}\r\n            <span className=\"amount\">{addCommaToNum(cost)}</span>\r\n          </h6>\r\n          <div className=\"order-buttons\">\r\n            <button className=\"big button decline\" onClick={() => removeFromCart(id)}>\r\n              Remove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </li>  \r\n    );\r\n  });\r\n  \r\n  return (\r\n    <ul className=\"vertical list\">\r\n      {cartList}\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\nexport default CartList;\r\n","import React, { Component } from 'react';\r\n\r\nclass CartFooter extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { address: '' };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({\r\n      address: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { cart, total, addCommaToNum, emptyCart, checkout } = this.props;\r\n    const { address } = this.state;\r\n    return (\r\n      <div className=\"cart-footer\">\r\n        <input \r\n          className=\"raised address input\" type=\"text\"\r\n          placeholder=\"Enter optional delivery address\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <div className=\"cart-checkout-group\">\r\n          <h6 className=\"total amount\">Total: {\"\\u20A6\"} \r\n            <span id=\"total\"> {addCommaToNum(total)} </span>\r\n          </h6>\r\n          <div className=\"horizontal button-group\">\r\n            <button \r\n              className=\"raised large checkout button complete\"\r\n              onClick={() => checkout(cart, address)}>\r\n              Checkout\r\n            </button>\r\n            <button \r\n              className=\"raised inverted large button decline\"\r\n              onClick={emptyCart}>\r\n              Empty Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CartFooter;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport CartList from '../components/CartList';\r\nimport CartFooter from '../components/CartFooter';\r\nimport { removeFromCart, emptyCart, checkout } from '../store/actions/cart';\r\n\r\nclass Cart extends Component {\r\n  render() {\r\n    const { cart, removeFromCart, emptyCart, addCommaToNum, checkout } = this.props;\r\n    const total = _.reduce(cart, (acc, curr) => acc + curr.cost, 0);\r\n    const count = _.keys(cart).length;\r\n    \r\n    return (\r\n      <div className='small section'>\r\n        <CartList\r\n          cart={cart}\r\n          addCommaToNum={addCommaToNum}\r\n          removeFromCart={removeFromCart}\r\n        />\r\n        \r\n        { !!count\r\n          ?\r\n            <CartFooter\r\n              cart={cart}\r\n              total={total}\r\n              addCommaToNum={addCommaToNum}\r\n              emptyCart={emptyCart}\r\n              checkout={checkout}\r\n            />\r\n          : <p>You currently do not have any items in your cart</p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { cart: state.cart };\r\n};\r\n\r\nexport default connect(mapStateToProps, { removeFromCart, emptyCart, checkout })(Cart);\r\n","import React from 'react';\r\n\r\nconst FoodCard = (props) => {\r\n  const { food: { id, name, cost, image }, status } = props;\r\n  return (\r\n    <li className=\"food-card\" key={id}>\r\n      <div className=\"img-thumbnail\">\r\n        <img alt=\"Chicken Salad\" src={image} />\r\n      </div>\r\n      <div className=\"food-details\">\r\n        <p>\r\n          <span className=\"semi-bold\">{name}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"bold\">{\"\\u20A6\"}{cost}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"semi-bold\">Quantity: </span>\r\n          <span>1</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"semi-bold\">Status: </span>\r\n          <span>{status}</span>\r\n        </p>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default FoodCard;\r\n","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport FoodCard from '../components/FoodCard';\r\n\r\nclass FoodListContainer extends Component {\r\n  renderFoodCard() {\r\n    const { selectedOrder } = this.props;\r\n    if (!selectedOrder) {\r\n      return (\r\n        <p className=\"food-list-placeholder\">\r\n          Select an order to view the food details\r\n        </p>\r\n      )\r\n    }\r\n    const { foodList, order_status } = selectedOrder;\r\n    return _.map(foodList, (food) => {\r\n      return(\r\n      <FoodCard food={food} key={food.id} status={order_status} />\r\n      );\r\n    })\r\n  }\r\n  render() {\r\n    const { modalClass } = this.props;\r\n    const { selectedOrder, removeModal } = this.props;\r\n    return (\r\n      <div className={`raised food-list-container ${modalClass}`}>\r\n        { selectedOrder \r\n          ? <div className=\"food-list-close-button\" onClick={removeModal}>\r\n              <span>close  </span> \r\n              <i className=\"fa fa-times\"></i>\r\n            </div>\r\n          : null\r\n        }\r\n        <ul className=\"food-list\">\r\n          {this.renderFoodCard()}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default FoodListContainer;\r\n","import React from 'react';\r\n\r\nconst Order = (props) => {\r\n  const { setSelectedOrder, order } = props;\r\n  const { id, amount, address, created_on } = order;\r\n  const createdDate = new Date(created_on).toLocaleDateString('en-GB');\r\n  return (\r\n    <li className=\"raised order\" key={id} onClick={() => setSelectedOrder(order)}>\r\n      <div className=\"order-header\">\r\n        <p>\r\n          <span className=\"bold\">Order date: </span>\r\n          <span>{createdDate}</span>\r\n        </p>\r\n      </div>\r\n      <div className=\"order-body\">\r\n        <div className=\"order-details\">\r\n          <p>\r\n            <span className=\"semi-bold\">Amount: </span>\r\n            <span>{\"\\u20A6\"}{amount}</span>\r\n          </p>\r\n          <p>\r\n            <span className=\"semi-bold\">Order number: </span>\r\n            <span>{id}</span>\r\n          </p>\r\n          <p>\r\n            <span className=\"semi-bold\">Payment method: </span>\r\n            <span>Pay on delivery</span>\r\n          </p>\r\n        </div>\r\n        <div className=\"order-address\">\r\n          <p><span className=\"semi-bold\">Delivery address:</span></p>\r\n          <p>{address}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Order;\r\n","import React from 'react';\r\n\r\nconst OrdersHeader = (props) => {\r\n  const { filter, onSelectChange } = props;\r\n  return (\r\n    <div className=\"raised orders-container-header\">\r\n      <p>\r\n        <span className=\"bold\">Filter by status</span>\r\n        <select name=\"filter\" id=\"filter\"\r\n          onChange={onSelectChange}\r\n          value={filter}\r\n        >\r\n          <option value=\"all\">All</option>\r\n          <option value=\"new\">New</option>\r\n          <option value=\"processing\">Processing</option>\r\n          <option value=\"cancelled\">Cancelled</option>\r\n          <option value=\"complete\">Complete</option>\r\n        </select>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersHeader;\r\n","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport OrderCard from '../components/OrderCard';\r\nimport OrdersHeader from '../components/OrdersHeader';\r\n\r\nclass OrdersContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'processing'\r\n    }\r\n\r\n    this.onSelectChange = this.onSelectChange.bind(this);\r\n    this.renderOrders = this.renderOrders.bind(this);\r\n  }\r\n\r\n  onSelectChange(e) {\r\n    this.setState({\r\n      filter: e.target.value\r\n    })\r\n  }\r\n\r\n  renderOrders() {\r\n    const { orders, setSelectedOrder } = this.props;\r\n    return _.map(orders, (order) => {\r\n      return(\r\n        <OrderCard order={order} key={order.id} setSelectedOrder={setSelectedOrder} />\r\n      );\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { filter } = this.state;\r\n    return (\r\n      <div className=\"raised orders-container\">\r\n        <OrdersHeader filter={filter} onSelectChange={this.onSelectChange}/>\r\n        <ul className=\"orders\">\r\n          {this.renderOrders()}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default OrdersContainer;\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserOrders } from '../store/actions/orders';\nimport FoodListContainer from '../components/FoodListContainer';\nimport OrdersContainer from '../components/OrdersContainer';\n\nclass Orders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedOrder: '',\n      modalClass: ''\n    }\n\n    this.setSelectedOrder = this.setSelectedOrder.bind(this);\n    this.removeModal = this.removeModal.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.fetchUserOrders();\n  }\n\n  setSelectedOrder(order) {\n    this.setState({\n      selectedOrder: order,\n      modalClass: 'food-list-modal'\n    })\n  }\n\n  removeModal() {\n    this.setState({\n      modalClass: ''\n    })\n  }\n\n  render() {\n    const { orders } = this.props;\n    const { selectedOrder, modalClass } = this.state;\n    return (\n      <div className=\"order-section\">\n        <OrdersContainer\n          orders={orders}\n          setSelectedOrder={this.setSelectedOrder}\n        />\n        <FoodListContainer \n          selectedOrder={selectedOrder}\n          modalClass={modalClass}\n          removeModal={this.removeModal}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    orders: state.orders\n  }\n}\n\nexport default connect(mapStateToProps, { fetchUserOrders })(Orders);\n","import { FETCH_USER_ORDERS } from '../actionTypes';\r\nimport { apiCall } from '../../services/api';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { addError } from './errors';\r\n\r\nexport const fetchUserOrders = () => {\r\n  return dispatch => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      return dispatch(addError('You need to be logged in to view orders'));\r\n    }\r\n    const { id } = jwtDecode(token);\r\n    const config = {\r\n      url: `/users/${id}/orders`,\r\n      method: 'get',\r\n      headers: { 'Authorization': `Bearer ${token}` }\r\n    }\r\n    \r\n    return new Promise((resolve) => {\r\n      const request = apiCall(config);\r\n      request.then(({ result }) => {\r\n        dispatch({\r\n          type: FETCH_USER_ORDERS,\r\n          payload: result\r\n        });\r\n        resolve();\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addError(err));\r\n      })\r\n    })\r\n    \r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { authUser, logout } from '../store/actions/auth';\r\nimport { removeError } from '../store/actions/errors';\r\n\r\nimport '../styles/index.css';\r\n\r\nimport Header from './Header';\r\nimport Landing from '../components/Landing';\r\nimport LoginForm from './LoginForm';\r\nimport SignupForm from './SignupForm';\r\nimport Menu from '../components/Menu';\r\nimport Cart from './Cart';\r\nimport Orders from './Orders';\r\n\r\nconst App = (props) => {\r\n  const addCommaToNum = (number) => {\r\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  };\r\n  const { authUser, error, currentUser, removeError, logout } = props;\r\n  return (\r\n    <Router>\r\n      <div className=\"container\">\r\n        <Header currentUser={currentUser} logout={logout} />\r\n        <Switch>\r\n          <Route exact path=\"/login\" render={() => \r\n            <LoginForm\r\n              onAuth={authUser} \r\n              error={error}\r\n              removeError={removeError}\r\n              currentUser={currentUser}\r\n            />}\r\n          />\r\n          <Route exact path=\"/signup\" render={() => \r\n            <SignupForm \r\n              onAuth={authUser} \r\n              error={error} \r\n              removeError={removeError}\r\n              currentUser={currentUser}\r\n            />}\r\n          />\r\n          <Route exact path=\"/menu\"\r\n            render={() => <Menu addCommaToNum={addCommaToNum}/>}\r\n          />\r\n          <Route exact path=\"/cart\"\r\n            render={() => <Cart addCommaToNum={addCommaToNum}/>}\r\n          />\r\n          <Route exact path='/orders' render={() => <Orders />} />\r\n          <Route exact path=\"/\" render={() => <Landing currentUser={currentUser} />} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    error: state.error,\r\n    currentUser: state.currentUser\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { authUser, removeError, logout })(App);\r\n","import { apiCall } from '../../services/api';\r\nimport { removeError, addError } from './errors';\r\nimport { SET_CURENT_USER, REMOVE_USER } from '../actionTypes';\r\nimport { history } from '../../helpers';\r\n\r\nexport const setCurrentUser = (token) => {\r\n  return {\r\n    type: SET_CURENT_USER,\r\n    payload: token\r\n  }\r\n}\r\n\r\nexport const deleteUser = () => {\r\n  return {\r\n    type: REMOVE_USER\r\n  }\r\n}\r\n\r\nexport const authUser = (userData, type = 'login') => {\r\n  return (dispatch) => {\r\n    const config = {\r\n      url: `/auth/${type}`,\r\n      method: 'post',\r\n      data: userData\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      const request = apiCall(config);\r\n      request.then(({ token }) => {\r\n        dispatch(setCurrentUser(token));\r\n        dispatch(removeError());\r\n        resolve();\r\n      })\r\n      .catch((err) => {\r\n        const { response, request, message } = err;\r\n        const error = response ? response.data.message\r\n          : request ? 'Network error, please try again later' : message\r\n        dispatch(addError(error));\r\n      })\r\n    });\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return dispatch => {\r\n    return Promise.resolve(\r\n      dispatch(deleteUser())\r\n    )\r\n    .then(() => history.push('/login'))\r\n  }\r\n}\r\n","import _ from 'lodash';\r\nimport { FETCH_MENU } from '../actionTypes';\r\n\r\nconst fetchMenu = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_MENU:\r\n      return _.mapKeys(action.payload, 'id');\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default fetchMenu;\r\n","import { ADD_TO_CART, REMOVE_FROM_CART, EMPTY_CART } from '../actionTypes';\r\nimport _ from 'lodash';\r\n\r\nconst defaultCart = JSON.parse(localStorage.getItem('cart')) || {};\r\n\r\nexport const saveCartToStorage = (cart) => {\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n}\r\n\r\nconst cart = (state = defaultCart, action) => {\r\n  let newState;\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      newState = { ...state, [action.payload.id]: action.payload};\r\n      saveCartToStorage(newState);\r\n      return newState;\r\n    case REMOVE_FROM_CART:\r\n      newState = _.omit(state, action.payload);\r\n      saveCartToStorage(newState);\r\n      return newState;\r\n    case EMPTY_CART:\r\n      newState = {};\r\n      saveCartToStorage(newState);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cart;\r\n","import { ADD_ERROR, REMOVE_ERROR } from '../actionTypes';\r\n\r\nconst errorHandler = (state = '', action) => {\r\n  switch (action.type) {\r\n    case ADD_ERROR:\r\n      return action.payload;\r\n    case REMOVE_ERROR:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default errorHandler;\r\n","import { SET_CURENT_USER, REMOVE_USER } from '../actionTypes';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst { token } = localStorage;\r\nconst defaultUser = !!token\r\n  ? {\r\n      isLoggedIn: true,\r\n      user: jwtDecode(localStorage.token)\r\n    }\r\n  : {\r\n      isLoggedIn: false,\r\n      user: {}\r\n    };\r\n\r\nexport default (state = defaultUser, action) => {\r\n  switch (action.type) {\r\n    case SET_CURENT_USER:\r\n      const token = action.payload;\r\n      localStorage.setItem('token', token);\r\n      return {\r\n        isLoggedIn: true,\r\n        user: jwtDecode(token)\r\n      }\r\n    case REMOVE_USER:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        isLoggedIn: false,\r\n        user: {}\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_USER_ORDERS } from '../actionTypes';\r\nimport _ from 'lodash';\r\n\r\nconst orders = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USER_ORDERS:\r\n      return _.mapKeys(action.payload, 'id');\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default orders;\r\n","import { combineReducers } from 'redux';\r\nimport MenuReducer from './reducer_menu';\r\nimport CartReducer from './reducer_cart';\r\nimport errorHandler from './reducer_error';\r\nimport UserReducer from './reducer_user';\r\nimport OrderReducer from './reducer_order';\r\n\r\nconst rootReducer = combineReducers({\r\n  menu: MenuReducer,\r\n  cart: CartReducer,\r\n  error: errorHandler,\r\n  currentUser: UserReducer,\r\n  orders: OrderReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst configureStore = () => {\r\n  const store = createStore(\r\n    rootReducer, \r\n    compose(\r\n      applyMiddleware(thunk),\r\n      window.devToolsExtension\r\n      ? window.devToolsExtension()\r\n      : f => f\r\n    )\r\n  );\r\n\r\n  return store;\r\n}\r\n\r\n\r\n\r\nexport default configureStore;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './containers/App';\r\nimport configureStore from './store';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n  , document.getElementById('root')\r\n)\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}